<div id="<%= dom_id chatroom %>">
  <p>
    <strong>Name:</strong>
    <%= chatroom.name %>
  </p>

  <div data-behavior="messages">
    <% @messages.each do |message| %>
      <div>
        <strong><%= message.user.username %>:</strong><%= message.body %>
      </div>
    <% end %>
  </div>

  <% if user_signed_in? %>
    <div data-controller="chatroom">
      <%= form_for [chatroom, Message.new], data: {action: 'keydown.enter->chatroom#keypress' } do |f| %>
        <%= f.text_area :body, rows: 1, class: "form-control", autofocus: true %>
      <% end %>
    </div>
  <% end %>
</div>

